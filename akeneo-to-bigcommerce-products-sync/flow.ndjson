{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"scheduler-entry","identifier":"alumio-to-bigcommerce-products-incoming","name":"Alumio to Bigcommerce - Products (Incoming)","object":{"parameters":{"job":[{"prototype":"run-incoming","parameters":{"incoming":"synchronize-products-akeneo-to-bigcommerce-fetch-storage-product-model-alumio-base"}},{"prototype":"run-incoming","parameters":{"incoming":"akeneo-fetch-simple-products-or-products-without-parent"}}],"handlers":[],"priority":2,"expression":"*/15 * * * *"}},"description":"Schedulers in this incoming are as follow :\n\n1. Run the incoming to fetch Alumio base Products from Alumio storage\n2. Run the incoming to fetch the Akeneo Simple products from Akeneo server","owner":null,"disabled":true}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"incoming-configuration","identifier":"synchronize-products-akeneo-to-bigcommerce-fetch-storage-product-model-alumio-base","name":"Synchronize Products - Akeneo to BigCommerce - Fetch Storage Product Model Alumio Base","object":{"parameters":{"entityType":"base-product","subscriber":{"prototype":"storage-subscriber","parameters":{"storage":"alumio-product-model-parent-alumio-base-product-model"}},"transformers":["akeneo-to-bigcommerce-products-filter-by-previous-storage-entities"]}},"description":"Incoming for fetch products data (Alumio base) from Alumio Storage","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"alumio-product-model-parent-alumio-base-product-model","name":"Alumio - Product Model Parent - Alumio Base Product Model","object":{"parameters":{"path":"alumio-product-model-parent-alumio-base-product-model-01JXM51SFP0NZ32XCRY3Y14NJ0","logger":{"parameters":{"actions":[]}}}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"entity","identifier":"base-product","name":"Base - Product","object":{"parameters":{"link":"https://schemas.alumio.com/v2/Product.json","schema":{"$ref":"https://schemas.alumio.com/v2/Product.json"},"identifierPath":["code"]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-to-bigcommerce-products-filter-by-previous-storage-entities","name":"Akeneo to BigCommerce - Products - Filter By Previous storage entities","object":{"meta":[],"prototype":"storage-filter-stored-entity","parameters":{"storage":"akeneo-to-bigcommerce-products-delta-storage","addEntityToStorage":true}},"description":"Transformer to filter the previous stored entities Akeneo Products.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"akeneo-to-bigcommerce-products-delta-storage","name":"Akeneo to BigCommerce - Products - Delta Storage","object":{"parameters":{"path":"akeneo-to-bigcommerce-products-delta-storage-01JYG89R5EAS2CEXBMZCQA1MGR","logger":{"parameters":{"actions":[]}}}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"incoming-configuration","identifier":"akeneo-fetch-simple-products-or-products-without-parent","name":"Akeneo - Fetch - Simple products or products without parent","object":{"parameters":{"entityType":"base-product","subscriber":{"prototype":"http-subscriber","parameters":{"client":"akeneo-http-client","request":{"uri":"/api/rest/v1/products?limit=100&pagination_type=search_after&search=&{search}","payload":[],"plugins":[],"payloadType":"data","authentications":[]},"pagination":{"prototype":"next","parameters":{"pattern":"_links.next","pageLimit":1000}},"transformer":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"search","value":{"parent":[{"operator":"EMPTY"}]},"mappers":[{"prototype":"serialize-json","parameters":[]}]}]}}]}},"deserializer":{"prototype":"json","parameters":{"pattern":"_embedded.items","readMethod":"wholeFile","encodeInput":false}}}},"transformers":["akeneo-prepare-convert-values-to-localizations-and-custom-attributes","akeneo-prepare-convert-localizations-filter","akeneo-prepare-convert-product-and-product-model-categories-to-alumio-base","akeneo-prepare-convert-product-and-product-model-prices-to-alumio-base","akeneo-convert-product-to-alumio-base-product","akeneo-filter-simple-product"]}},"description":"There some products data without product model in Akeneo.\n\nThis will become a simple product for other system\n","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"http-client","identifier":"akeneo-http-client","name":"Akeneo - HTTP Client","object":{"prototype":"akeneo-http-client-v2","parameters":{"baseUri":"${AKENEO_BASE_URL}","clientId":"${AKENEO_CLIENT_ID}","password":"${AKENEO_PASSWORD}","username":"${AKENEO_USERNAME}","clientSecret":"${AKENEO_CLIENT_SECRET}","enableLogging":true,"loggerFormatter":"full"}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-prepare-convert-values-to-localizations-and-custom-attributes","name":"Akeneo - Prepare convert - Values - To localizations and custom attributes","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values.*.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"attribute_type"}},"conditions":[{"prototype":"equals","parameters":{"value":"pim_catalog_image"}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"_links"}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"combinedKey","value":"locale:?{locale}|scope:?{scope}","mappers":[]}]}},{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"attribute_type"},{"key":"reference_data_name"}]}},{"meta":[],"prototype":"value-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"equals","parameters":{"value":[]}},{"prototype":"equals","parameters":{"value":null}}]}}]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"accessor-move","parameters":{"source":{"prototype":"structure","parameters":{"key":"combinedKey","keys":[],"value":"\"\""}},"destination":{"prototype":"key","parameters":{"keys":[]}},"stripEnclosures":true}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"values.*.*","conditions":[],"replacement":"values.$2.$1"}},{"meta":[],"prototype":"value-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"values"}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"equals","parameters":{"value":[]}},{"prototype":"equals","parameters":{"value":null}}]}}]}},{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"values.*.*.combinedKey"}]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"*.data","conditions":[],"replacement":"customAttributes.$1"}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"*.scope","conditions":[],"replacement":"channelCode"}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"*.locale","conditions":[],"replacement":"localeCode"}},{"meta":[],"prototype":"value-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"equals","parameters":{"value":[]}},{"prototype":"equals","parameters":{"value":null}}]}}]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"values.\"locale:|scope:\".customAttributes","conditions":[],"replacement":"customAttributes"}},{"meta":[],"prototype":"value-filter","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values.*"}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"equals","parameters":{"value":[]}},{"prototype":"equals","parameters":{"value":null}}]}}]}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"values"}}}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"values","conditions":[],"replacement":"localizations"}}]}}]}},"description":"This transformer will convert localizations data from Akeneo.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-prepare-convert-localizations-filter","name":"Akeneo - Prepare Convert - Localizations filter","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"localizations"}},"nodeFilters":[{"prototype":"or-condition","parameters":{"filters":[{"prototype":"and-condition","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"channelCode"}}}},{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"channelCode"}},"conditions":[{"prototype":"one-of","parameters":{"value":["ecommerce"]}}]}}]}},{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"channelCode"}}}}]}}],"nodeTransformers":[]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"localizations"}}}}]}}]}},"description":"We use this transformer to only allow any localization with channel code in **\"eCommerce\"**, if it has channel code.\n\nIf you need other channel code please add the value in the Node Filter.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-prepare-convert-product-and-product-model-categories-to-alumio-base","name":"Akeneo - Prepare convert - Product and product model - Categories to Alumio Base","object":{"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"accessor-move","parameters":{"source":{"prototype":"key","parameters":{"keys":[],"root":"categories"}},"destination":{"prototype":"structure","parameters":{"key":"temp","keys":[],"root":"categories","value":"categoryCode"}},"stripEnclosures":true}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"categories"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"temp"}]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"categories"}}}}]}}]}},"description":"Akeneo - Prepare convert - Product and product model - Categories to Alumio Base","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-prepare-convert-product-and-product-model-prices-to-alumio-base","name":"Akeneo - Prepare convert - Product and product model - Prices to Alumio Base","object":{"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"customAttributes.price","conditions":[],"replacement":"prices"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"prices.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"currency","conditions":[],"replacement":"currencyCode"}}]}}]}},"description":"Akeneo - Prepare convert - Product and product model - Prices to Alumio Base.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-convert-product-to-alumio-base-product","name":"Akeneo - Convert - Product - To Alumio Base product","object":{"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"customAttributes.sku","conditions":[],"replacement":"code"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"dictionary-map","parameters":{"map":[["parent","parentCode"],["enabled","statusCode"],["family","attributeSetCode"]],"comparator":"equals"}}],"accessor":{"prototype":"key","parameters":{"keys":[]}},"stripEnclosures":true}},{"meta":[],"prototype":"value-remover","parameters":{"patterns":[{"key":"uuid"},{"key":"_links"},{"key":"created"},{"key":"updated"},{"key":"associations"},{"key":"quantified_associations"},{"key":"metadata"}]}}]}}]}},"description":"This transformer will convert Akeneo product data into Alumio base product data.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-filter-simple-product","name":"Akeneo - Filter - Simple Product","object":{"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"type-setter","parameters":{"entityType":"base-product"}},{"meta":[],"prototype":"storage-filter-stored-entity","parameters":{"storage":"akeneo-filter-simple-products","addEntityToStorage":true}}]}},"description":"We use this transformer to filter previously created into task simple product to avoid duplication.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"akeneo-filter-simple-products","name":"Akeneo - Filter - Simple Products","object":{"parameters":{"path":"akeneo-filter-simple-products-01JXM58T2W4P54KC51888WD3PD","logger":{"parameters":{"actions":[]}}}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"scheduler-entry","identifier":"alumio-to-bigcommerce-products-outgoing","name":"Alumio to Bigcommerce - Products (Outgoing)","object":{"parameters":{"job":[{"prototype":"run-outgoing","parameters":{"route":"synchronize-products-akeneo-to-bigcommerce","numTasks":100}}],"handlers":[],"priority":2,"expression":"*/5 * * * *"}},"description":"Scheduler to Execute all tasks for Products to Bigcommerce","owner":null,"disabled":true}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"route-configuration","identifier":"synchronize-products-akeneo-to-bigcommerce","name":"Synchronize Products - Akeneo to BigCommerce","object":{"parameters":{"incoming":"synchronize-products-akeneo-to-bigcommerce-fetch-storage-product-model-alumio-base","outgoing":"bigcommerce-send-product","realtime":false,"transformers":[],"waitingStatus":false,"parallelExecution":[]}},"description":"Route for synchronize Products from Alumio base (Storage) and send it to BigCommerce","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"outgoing-configuration","identifier":"bigcommerce-send-product","name":"BigCommerce - Send - Product","object":{"parameters":{"publisher":{"prototype":"no-action-publisher","parameters":[]},"transformers":["akeneo-to-bigcommerce-products-build-variants-for-alumio-base-simple-product","bigcommerce-product-convert-from-alumio-base-product-conditional","bigcommerce-send-products-wrapper"]}},"description":"Outgoing configuration to send the Products to BigCommerce","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"akeneo-to-bigcommerce-products-build-variants-for-alumio-base-simple-product","name":"Akeneo to Bigcommerce Products - Build variants for Alumio Base Simple Product ","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"variants"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"*","conditions":[],"replacement":"variants.0.$1"}}],"elseTransformers":[]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"code","value":"variant-&{code}","mappers":[]},{"key":"identifier","value":"&{code}","mappers":[]}]}}]}}]}},"description":"Transformer to build variants for simple products\n","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-conditional","name":"Bigcommerce - Product - Convert from Alumio Base Product - Conditional","object":{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"children"}}}}],"elseCases":[],"transformers":[{"prototype":"list-transformer-wrapper","parameters":{"transformers":["bigcommerce-product-convert-from-alumio-base-product-children"]}}],"elseTransformers":[{"prototype":"list-transformer-wrapper","parameters":{"transformers":["bigcommerce-product-convert-from-alumio-base-product-non-children"]}}]}}]}},"description":"Decide whether its a Children or Not","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-children","name":"Bigcommerce - Product - Convert from Alumio Base Product - Children","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"children":true}}}],"accessor":{"prototype":"key","parameters":{"keys":[]}}}}]}},{"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"children"}},"nodeFilters":[],"nodeTransformers":[{"prototype":"list-transformer-wrapper","parameters":{"transformers":["bigcommerce-product-convert-from-alumio-base-product-base-mapping"]}}]}},{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"pattern-move","parameters":{"pattern":"children","conditions":[],"replacement":"products"}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-base-mapping","name":"Bigcommerce - Product - Convert from Alumio Base Product - Base Mapping","object":{"meta":[],"prototype":"chain","parameters":{"transformers":["bigcommerce-product-convert-from-alumio-base-product-base-mapping-name","bigcommerce-product-convert-from-alumio-base-product-base-mapping-sku","bigcommerce-product-convert-from-alumio-base-product-base-mapping-type","bigcommerce-product-convert-from-alumio-base-product-base-mapping-price","bigcommerce-product-convert-from-alumio-base-product-base-mapping-brand-name","bigcommerce-product-convert-from-alumio-base-product-base-mapping-categories","bigcommerce-product-convert-from-alumio-base-product-base-mapping-availability","bigcommerce-product-convert-from-alumio-base-product-base-mapping-description-seo","bigcommerce-product-convert-from-alumio-base-product-base-mapping-variants-options","bigcommerce-product-convert-from-alumio-base-product-base-mapping-other-fields-custom-optional","bigcommerce-product-convert-from-alumio-base-product-base-mapping-filter"]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-base-mapping-name","name":"Bigcommerce - Product - Convert from Alumio Base Product - Base Mapping - Name","object":{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"name","value":"&{code}","mappers":[]}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-base-mapping-sku","name":"Bigcommerce - Product - Convert from Alumio Base Product - Base Mapping - SKU","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"sku","value":"&{code}","mappers":[{"prototype":"string-slugify","parameters":[]}]}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-base-mapping-type","name":"Bigcommerce - Product - Convert from Alumio Base Product - Base Mapping - Fixed Key","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"type","value":"physical","mappers":[]},{"key":"is_visible","value":true,"mappers":[]},{"key":"condition","value":"New","mappers":[]}]}}]}},"description":"This is a Fixed Static, please configure this based on your current business.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-base-mapping-price","name":"Bigcommerce - Product - Convert from Alumio Base Product - Base Mapping -  Price","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"prices","conditions":[],"replacement":"tempPrice"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"tempPrice"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"&{currencyCode}","value":"&{amount}","mappers":[]}]}}]}},{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"pattern-copy","parameters":{"pattern":"tempPrice.*.USD","conditions":[],"replacement":"price"}}]}}]}},"description":"Currently we use USD, you can change the format into any currencyCode, Change the Transformer Copy Pattern USD to any currency","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-base-mapping-brand-name","name":"Bigcommerce - Product - Convert from Alumio Base Product - Base Mapping - Brand Name","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"brand_name","value":"&{customAttributes.brand || `No Brand`}","mappers":[]}]}}]}},"description":"Transformer to get the brand name value","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-base-mapping-categories","name":"Bigcommerce - Product - Convert from Alumio Base Product - Base Mapping - Categories","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"pattern-copy","parameters":{"pattern":"categories.*.categoryCode","conditions":[],"replacement":"categories.$1"}}]}},"description":"This will no be mapped here, this transformer is only to set category key","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-base-mapping-availability","name":"Bigcommerce - Product - Convert from Alumio Base Product - Base Mapping - Availability","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"variants.*.statusCode","conditions":[{"prototype":"equals","parameters":{"value":true}}],"replacement":"statusCode.$1"}},{"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"statusCode"}}}}],"elseCases":[],"transformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"availability","value":"available","mappers":[]}]}}],"elseTransformers":[]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-base-mapping-description-seo","name":"Bigcommerce - Product - Convert from Alumio Base Product - Base Mapping - Description & SEO","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"localizations.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"description.&{localeCode}","value":"&{customAttributes.description || ''}","mappers":[]}]}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"short_description.&{localeCode}","value":"&{customAttributes.short_description|| ''}","mappers":[]},{"key":"meta_title.&{localeCode}","value":"&{customAttributes.meta_title|| ''}","mappers":[]},{"key":"meta_keywords.&{localeCode}","value":"&{customAttributes.meta_keywords|| ''}","mappers":[]},{"key":"meta_description.&{localeCode}","value":"&{customAttributes.meta_description|| ''}","mappers":[]}]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"localizations.*.description","conditions":[],"replacement":"description.$1"}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"localizations.*.meta_title","conditions":[],"replacement":"page_title.$1"}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"localizations.*.meta_keywords","conditions":[],"replacement":"meta_keywords.$1"}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"localizations.*.meta_description","conditions":[],"replacement":"meta_description.$1"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"description"}},"nodeFilters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"nodeTransformers":[]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"page_title"}},"nodeFilters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"nodeTransformers":[]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"meta_keywords"}},"nodeFilters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"nodeTransformers":[]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"meta_description"}},"nodeFilters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[]}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"nodeTransformers":[]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"description"}}}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"description.*.en_US","conditions":[],"replacement":"description"}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["description"]}},"conditions":[{"prototype":"empty","parameters":[]}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"description","value":"","mappers":[]}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"description.0"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"description.0","conditions":[],"replacement":"temp"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"cast-int","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"temp"}},"stripEnclosures":true}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"temp.0","conditions":[],"replacement":"description"}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temp"]}},"conditions":[]}}],"elseTransformers":[]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"page_title"}}}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"page_title.*.en_US","conditions":[],"replacement":"page_title"}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["page_title"]}},"conditions":[{"prototype":"empty","parameters":[]}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"page_title","value":"","mappers":[]}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"page_title.0"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"page_title.0","conditions":[],"replacement":"temp"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"cast-int","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"temp"}},"stripEnclosures":true}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"temp.0","conditions":[],"replacement":"page_title"}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temp"]}},"conditions":[]}}],"elseTransformers":[]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"meta_keywords"}}}},{"prototype":"pattern-move","parameters":{"pattern":"meta_keywords.*.*","conditions":[],"replacement":"meta_keywords.$1"}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"meta_description"}}}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"meta_description.*.en_US","conditions":[],"replacement":"meta_description"}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["meta_description"]}},"conditions":[{"prototype":"empty","parameters":[]}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"meta_description","value":"","mappers":[]}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"meta_description.0"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"meta_description.0","conditions":[],"replacement":"temp"}},{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"cast-int","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"temp"}},"stripEnclosures":true}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"temp.0","conditions":[],"replacement":"meta_description"}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temp"]}},"conditions":[]}}],"elseTransformers":[]}}]}}]}},"description":"Description, Meta_description, e.t.c.\n\nCheck the last transformer for different localization use.\n\nIt use en_US as default description locale, otherwise it takes array 0 to be description.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-base-mapping-variants-options","name":"Bigcommerce - Product - Convert from Alumio Base Product - Base Mapping - Variants / Options","object":{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"variants"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"sku","value":"&{identifier}","mappers":[]}]}},{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"key","parameters":{"keys":[],"root":"prices"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"&{currencyCode}","value":"&{amount}","mappers":[]}]}}]}}]}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"prices.*.USD","conditions":[],"replacement":"price"}},{"prototype":"convert-to-array","parameters":{"pattern":"customAttributes.*","recursive":false}},{"prototype":"pattern-copy","parameters":{"pattern":"customAttributes.*","conditions":[],"replacement":".customAttributes.$1.$1"}},{"prototype":"convert-to-array","parameters":{"pattern":"customAttributes","recursive":false}},{"prototype":"list-transformer-wrapper","parameters":{"transformers":[{"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"customAttributes.*.*"}},"nodeFilters":[],"nodeTransformers":[{"prototype":"accessor-copy","parameters":{"source":{"prototype":"key","parameters":{"keys":[]}},"destination":{"prototype":"key","parameters":{"keys":[],"root":"value"}},"stripEnclosures":true}},{"prototype":"pattern-copy","parameters":{"pattern":"value","conditions":[],"replacement":"name"}},{"prototype":"pattern-copy","parameters":{"pattern":"value.*","conditions":[],"replacement":"value"}},{"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-keys","parameters":[]},{"prototype":"list-reverse","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"name"}}}},{"prototype":"pattern-copy","parameters":{"pattern":"name.0","conditions":[],"replacement":"name"}},{"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"name":true,"value":true}}}],"accessor":{"prototype":"key","parameters":{"keys":[]}}}},{"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"value.1"}}}}],"elseCases":[],"transformers":[{"prototype":"pattern-copy","parameters":{"pattern":"value.0","conditions":[],"replacement":"value"}}],"elseTransformers":[]}}]}}]}},{"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"customAttributes.0"}}}},{"prototype":"pattern-copy","parameters":{"pattern":"customAttributes.0","conditions":[],"replacement":"custom_fields"}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["code","groups","identifier","parentCode","statusCode","localizations","attributeSetCode","prices","customAttributes"]}},"conditions":[]}}]}},"description":"We use USD price, customize this based on your pricing country","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-base-mapping-other-fields-custom-optional","name":"Bigcommerce - Product - Convert from Alumio Base Product - Base Mapping - Other Fields (Custom Optional)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"convert-to-array","parameters":{"pattern":"customAttributes.*","recursive":false}},{"prototype":"pattern-copy","parameters":{"pattern":"customAttributes.*","conditions":[],"replacement":"customAttributes.$1.$1"}},{"prototype":"convert-to-array","parameters":{"pattern":"customAttributes","recursive":false}}]}},{"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"customAttributes.*.*"}},"nodeFilters":[],"nodeTransformers":[{"prototype":"accessor-copy","parameters":{"source":{"prototype":"key","parameters":{"keys":[]}},"destination":{"prototype":"key","parameters":{"keys":[],"root":"value"}},"stripEnclosures":true}},{"prototype":"pattern-copy","parameters":{"pattern":"value","conditions":[],"replacement":"name"}},{"prototype":"pattern-copy","parameters":{"pattern":"value.*","conditions":[],"replacement":"value"}},{"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-keys","parameters":[]},{"prototype":"list-reverse","parameters":[]}],"accessor":{"prototype":"key","parameters":{"keys":[],"root":"name"}}}},{"prototype":"pattern-copy","parameters":{"pattern":"name.0","conditions":[],"replacement":"name"}},{"prototype":"list-mapper","parameters":{"mappers":[{"prototype":"list-intersect-keys","parameters":{"array":{"name":true,"value":true}}}],"accessor":{"prototype":"key","parameters":{"keys":[]}}}},{"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"value.1"}}}}],"elseCases":[],"transformers":[{"prototype":"pattern-copy","parameters":{"pattern":"value.0","conditions":[],"replacement":"value"}}],"elseTransformers":[]}}]}},{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"customAttributes.0"}}}},{"prototype":"pattern-copy","parameters":{"pattern":"customAttributes.0","conditions":[],"replacement":"custom_fields"}}]}}]}},"description":"Customize this as you like","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-base-mapping-filter","name":"Bigcommerce - Product - Convert from Alumio Base Product - Base Mapping - Filter","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["code","prices","parentCode","localizations","customAttributes","tempPrice","statusCode"]}},"conditions":[]}}]}},"description":"Filter Unused Key","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-product-convert-from-alumio-base-product-non-children","name":"Bigcommerce - Product - Convert from Alumio Base Product - Non Children","object":{"meta":[],"prototype":"chain","parameters":{"transformers":["bigcommerce-product-convert-from-alumio-base-product-base-mapping",{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"accessor-move","parameters":{"source":{"prototype":"key","parameters":{"keys":[]}},"destination":{"prototype":"key","parameters":{"keys":[],"root":"products"}},"stripEnclosures":true}},{"prototype":"convert-to-array","parameters":{"pattern":"products","recursive":false}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-wrapper","name":"BigCommerce - Send - Products (Wrapper)","object":{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"products.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["bigcommerce-send-products-preparations","bigcommerce-send-products"]}}]}},"description":"Send the Products into BigCommerce (Wrapper) when there're childrens in Akeneo product","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-preparations","name":"BigCommerce - Send - Products (Preparations)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":["bigcommerce-send-products-prepare-the-custom-attributes-values-wrapper","bigcommerce-send-products-prepare-the-product-ids-check-if-exists","bigcommerce-send-products-prepare-the-product-variant-ids-check-if-exists","bigcommerce-send-products-prepare-the-product-brand-ids-check-if-exists","bigcommerce-send-products-prepare-the-product-category-ids","bigcommerce-send-products-prepare-the-product-price","bigcommerce-send-products-prepare-the-product-weight","bigcommerce-send-products-prepare-the-product-variant-option-values"]}},"description":"List of transformers (Preparation before sending the products)","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-prepare-the-custom-attributes-values-wrapper","name":"BigCommerce - Send - Products (Prepare the Custom Attributes Values - Wrapper)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"custom_fields.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["bigcommerce-send-products-prepare-the-custom-attributes-values"]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.custom_fields.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["bigcommerce-send-products-prepare-the-custom-attributes-values"]}}]}}]}},"description":"List of transformers (Preparation before sending the products)\n(Preparing the custom attributes)","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-prepare-the-custom-attributes-values","name":"BigCommerce - Send - Products (Prepare the Custom Attributes Values)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value.0"}},"conditions":[{"prototype":"type-object","parameters":[]}]}}],"elseCases":[{"filter":{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"type-array","parameters":{"strict":true}}]}},"transformer":{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-implode","parameters":{"glue":", "}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}}}}},{"filter":{"prototype":"and-condition","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"value.amount"}}}},{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"value.currency"}}}}]}},"transformer":{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"&{value.amount} &{value.currency}","mappers":[]}]}}},{"filter":{"prototype":"and-condition","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"value.amount"}}}},{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"value.unit"}}}}]}},"transformer":{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"&{value.amount} &{value.unit}","mappers":[]}]}}},{"filter":{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"value"}},"conditions":[{"prototype":"logic-or","parameters":{"conditions":[{"prototype":"type-boolean","parameters":[]},{"prototype":"type-integer","parameters":[]},{"prototype":"type-float","parameters":[]},{"prototype":"type-numeric","parameters":[]}]}}]}},"transformer":{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"&{to_string(value)}","mappers":[]}]}}}],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"and-condition","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"value.0.amount"}}}},{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"value.0.currency"}}}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"value","value":"&{to_string(value)}","mappers":[]}]}}],"elseTransformers":[]}}],"elseTransformers":[]}}]}}]}},"description":"List of transformers (Preparation before sending the products)\n(Preparing the custom attributes values)","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-prepare-the-product-ids-check-if-exists","name":"BigCommerce - Send - Products (Prepare the Product ID's -  Check If Exists)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"id":"&{data[0].id || `0`}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products","payload":{"sku":"&{sku}"},"plugins":[],"payloadType":"data","authentications":[]}}}}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"id"}},"conditions":[{"prototype":"equals","parameters":{"value":0}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["id"]}},"conditions":[]}}],"elseTransformers":[]}}]}}]}},"description":"List of transformers (Preparation before sending the products)\nPrepare the Product ID and check whether it already exists in the Big Commerce or not","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"http-client","identifier":"bigcommerce-client","name":"BigCommerce - HTTP Client","object":{"prototype":"bigcommerce-http-client-v3","parameters":{"scopes":"store_v2_products","advanced":{"client":"default"},"clientId":"${BIGCOMMERCE_CLIENT_ID}","storeHash":"${BIGCOMMERCE_STORE_HASH}","clientSecret":"${BIGCOMMERCE_CLIENT_SECRET}","enableLogging":true,"loggerFormatter":"full","authenticationType":"oauth2"}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-prepare-the-product-variant-ids-check-if-exists","name":"BigCommerce - Send - Products (Prepare the Product Variant ID's -  Check If Exists)","object":{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"variants"}}}}],"transformers":[{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"id":"&{data[0].id || `0`}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/variants","payload":{"sku":"&{sku}"},"plugins":[],"payloadType":"data","authentications":[]}}}}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"id"}},"conditions":[{"prototype":"equals","parameters":{"value":0}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["id"]}},"conditions":[]}}],"elseTransformers":[]}}]}}]}}]}},"description":"List of transformers (Preparation before sending the products)\nPrepare the variants and check whether it exists in the BigCommerce or not","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-prepare-the-product-brand-ids-check-if-exists","name":"BigCommerce - Send - Products (Prepare the Product Brand ID's -  Check If Exists)","object":{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"brand_name"}}}}],"transformers":[{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"brand_id":"&{data[0].id || `0`}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/brands","payload":{"name":"&{brand_name}"},"plugins":[],"payloadType":"data","authentications":[]}}}}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"brand_id"}},"conditions":[{"prototype":"equals","parameters":{"value":0}}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["brand_id"]}},"conditions":[]}}],"elseTransformers":[]}}]}}]}}]}},"description":"List of transformers (Preparation before sending the products)\nPrepare the Brand ID","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-prepare-the-product-category-ids","name":"BigCommerce - Send - Products (Prepare the Product Category ID's)","object":{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"categories"}}}}],"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":{"name":"Fetch Categories from variants"},"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"categories.*","conditions":[],"replacement":"categories.0.$1"}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"variants.*.categories.*.categoryCode","conditions":[],"replacement":"categories.1.$1$2"}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"categories.1"}}}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"operator","parameters":{"operator":"array-merge"}},{"prototype":"list-flip","parameters":[]},{"prototype":"list-flip","parameters":[]},{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"categories"}}}}]}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"categories.*","conditions":[],"replacement":"categories.$1.id"}}]}},{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"categories.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"storage-get-entity-from-storage","parameters":{"storage":"bigcommerce-category-code-to-id","storageKey":"&{id}","destination":"code"}}]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"categories","value":"&{categories[?code!=`null`]}","mappers":[]}]}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"categories.*.code","conditions":[],"replacement":"categories.$1"}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.categories"}},"conditions":[]}}]}}]}},"description":"List of transformers (Preparation before sending the products)\n(Preparing the categories)","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"storage","identifier":"bigcommerce-category-code-to-id","name":"BigCommerce - Category - Code to id","object":{"parameters":{"path":"bigcommerce-category-code-to-id-01JXYPW4FAZ2RY5VM62XWBNXH6","logger":{"parameters":{"actions":[]}}}},"description":"Category Akeneo Code into BigCommerce Id","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-prepare-the-product-price","name":"BigCommerce - Send - Products (Prepare the Product Price)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"variants.*.price","conditions":[],"replacement":"price.$1"}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"operator","parameters":{"operator":"max"}}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"price"}}}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"price","value":"&{price || `0`}","mappers":[{"prototype":"cast-float","parameters":[]}]}]}}]}}]}},"description":"List of transformers (Preparation before sending the products)\n(Preparing the product prices)","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-prepare-the-product-weight","name":"BigCommerce - Send - Products (Prepare the Product Weight)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"weight","value":"&{weight || `0`}","mappers":[]}]}}]}}]}},"description":"List of transformers (Preparation before sending the products)\n(Preparing the product weight)","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-prepare-the-product-variant-option-values","name":"BigCommerce - Send - Products (Prepare the Product Variant option values)","object":{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"and-condition","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"variants"}}}},{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"attributeSetCode"}}}}]}}],"transformers":[{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"temp":{"items":"&{_embedded.items || `[]`}","attributes":[]}},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"akeneo-http-client","request":{"uri":"/api/rest/v1/families/&{attributeSetCode}/variants","payload":[],"plugins":[],"payloadType":"data","authentications":[]}}}}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"temp.items.*.variant_attribute_sets.*.axes.*","conditions":[],"replacement":"temp.attributes.$1$2$3"}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]},{"prototype":"list-flip","parameters":[]},{"prototype":"list-flip","parameters":[]},{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.attributes"}}}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"akeneo_family_attributes":"&{temp.attributes || `[]`}"},"childrenPattern":"variants.*.custom_fields.*"}}]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"custom_fields","value":"&{custom_fields || `[]`}","mappers":[]}]}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"option_values","value":"&{custom_fields[?contains(akeneo_family_attributes, name)==`true`]}","mappers":[]}]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["custom_fields"]}},"conditions":[]}},{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"option_values"}},"conditions":[{"prototype":"empty","parameters":[]}]}}],"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"option_values","value":[{"label":"default","option_display_name":"Default_Option"}],"mappers":[]}]}}]}}]}}]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.option_values.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"key-mapper","parameters":{"mappers":[{"prototype":"dictionary-map","parameters":{"map":[["name","option_display_name"],["value","label"]],"comparator":"equals"}}],"accessor":{"prototype":"pattern","parameters":{"keys":[]}},"stripEnclosures":true}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["akeneo_family_attributes"]}},"conditions":[]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temp","attributeSetCode"]}},"conditions":[]}}]}}]}},"description":"List of transformers (Preparation before sending the products)\n(Preparing the variants option values)","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products","name":"BigCommerce - Send - Products","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"id"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["bigcommerce-send-products-update"]}}],"elseTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["bigcommerce-send-products-create"]}}]}}]}}]}},"description":"Transformer to Send the Product (Upsert)","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-update","name":"BigCommerce - Send - Products - Update","object":{"meta":[],"prototype":"chain","parameters":{"transformers":["bigcommerce-send-products-update-prepare-the-existing-ids","bigcommerce-send-products-update-update-the-variants","bigcommerce-send-products-update-build-payload",{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"payload"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"upsert_response":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products/&{payload.id}","method":"PUT","payload":"&{payload}","plugins":[],"payloadType":"data","authentications":[]}}}}}],"elseTransformers":[]}}]}}]}},"description":"Send the Payload to update the Bigcommerce Product","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-update-prepare-the-existing-ids","name":"BigCommerce - Send - Products - Update (Prepare the existing ID's)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":["bigcommerce-send-products-update-prepare-the-existing-ids-product-customfields-id"]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-update-prepare-the-existing-ids-product-customfields-id","name":"BigCommerce - Send - Products - Update (Prepare the existing ID's - Product Custom_fields ID)","object":{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"and-condition","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"id"}}}},{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"custom_fields"}}}}]}}],"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"temp":"&{data}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products/&{id}/custom-fields","payload":{"limit":5000},"plugins":[],"payloadType":"data","authentications":[]}}}}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"temp":"&{temp || `[]`}"},"childrenPattern":"custom_fields.*"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"custom_fields.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"curr_name":"&{name}","curr_value":"&{value}"},"childrenPattern":"temp.*"}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"temp","value":"&{temp[?name==curr_name&&value==curr_value]}","mappers":[]}]}},{"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"temp.0.id"}}}}],"elseCases":[],"transformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"id","value":"&{temp[0].id || `null`}","mappers":[]}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temp"]}},"conditions":[]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["temp"]}},"conditions":[]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-update-update-the-variants","name":"BigCommerce - Send - Products - Update (Update the Variants)","object":{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"and-condition","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"id"}}}},{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"variants"}}}}]}}],"transformers":[{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"curr_variants":"&{data}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products/&{id}/variants","payload":{"include_fields":"id,sku,option_values"},"plugins":[],"payloadType":"data","authentications":[]}}}}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"curr_variants":"&{curr_variants || `[]`}"},"childrenPattern":"variants.*"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"curr_sku":"&{sku}"},"childrenPattern":"curr_variants.*"}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"curr_variants","value":"&{curr_variants[?sku==curr_sku]}","mappers":[]}]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"curr_variants.0"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"id","value":"&{curr_variants[0].id || `null`}","mappers":[]}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"curr_option_values":"&{curr_variants[0].option_values || `[]`}"},"childrenPattern":"option_values.*"}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["curr_variants"]}},"conditions":[]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"variants.*.option_values.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"curr_label":"&{label}","curr_option_display_name":"&{option_display_name}"},"childrenPattern":"curr_option_values.*"}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"curr_option_values","value":"&{curr_option_values[?curr_option_display_name==option_display_name&&curr_label==label]}","mappers":[]}]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"curr_option_values.0"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"option_id","value":"&{curr_option_values[0].option_id || `null`}","mappers":[]},{"key":"id","value":"&{curr_option_values[0].id || `null`}","mappers":[]}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["curr_option_values"]}},"conditions":[]}}]}},{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"variants.*","conditions":[],"replacement":"temp.variants.$1"}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"curr_variants.*","conditions":[],"replacement":"temp.curr_variants.$1"}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"variants.*.sku","conditions":[],"replacement":"temp.newSKU.$1"}},{"meta":[],"prototype":"pattern-copy","parameters":{"pattern":"curr_variants.*.sku","conditions":[],"replacement":"temp.currentSKU.$1"}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"currentSKU":"&{temp.currentSKU || `[]`}"},"childrenPattern":"temp.variants.*"}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"newSKU":"&{temp.newSKU || `[]`}"},"childrenPattern":"temp.curr_variants.*"}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"temp.variants_added","value":"&{temp.variants[?!contains(currentSKU, sku)]}","mappers":[]},{"key":"temp.variants_updated","value":"&{temp.curr_variants[?contains(newSKU, sku)]}","mappers":[]},{"key":"temp.variants_deleted","value":"&{temp.curr_variants[?!contains(newSKU, sku)]}","mappers":[]}]}}]}}]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.variants_added"}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.variants_added.*.currentSKU"}},"conditions":[]}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"product_id":"&{id}"},"childrenPattern":"temp.variants_added.*"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.variants_added.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["bigcommerce-send-products-update-add-new-variant-prepare-the-option-values","bigcommerce-send-products-update-add-new-variant-prepare-the-default-option-values","bigcommerce-send-products-update-add-new-variant"]}}]}}]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.variants_updated"}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.variants_updated.*.newSKU"}},"conditions":[]}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"product_id":"&{id}"},"childrenPattern":"temp.variants_updated.*"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.variants_updated.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["bigcommerce-send-products-update-update-variant"]}}]}}]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.variants_deleted"}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.variants_deleted.*.newSKU"}},"conditions":[]}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"product_id":"&{id}"},"childrenPattern":"temp.variants_deleted.*"}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"temp.variants_deleted.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"list-transformer-wrapper","parameters":{"transformers":["bigcommerce-send-products-update-remove-the-variants"]}}]}}]}},{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["curr_variants","temp","upsert_variants","upsert_variants_result"]}},"conditions":[]}}]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-update-add-new-variant-prepare-the-option-values","name":"BigCommerce - Send - Products - Update (Add new variant - Prepare the option values)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"product_id":"&{product_id}"},"childrenPattern":"option_values.*"}},{"meta":[],"prototype":"merger","parameters":{"template":{"curr_options":"&{data}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products/&{product_id}/options","payload":{"include_fields":"id,display_name,option_values"},"plugins":[],"payloadType":"data","authentications":[]}}}}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"curr_options":"&{curr_options}"},"childrenPattern":"option_values.*"}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["curr_options"]}},"conditions":[]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"option_values.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"option_display_name":"&{option_display_name}"},"childrenPattern":"curr_options.*"}},{"meta":[],"prototype":"recursively-copy-values-to-children","parameters":{"mergeTemplate":{"curr_label":"&{label}"},"childrenPattern":"curr_options.*.option_values.*"}},{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"curr_options","value":"&{curr_options[?option_display_name==display_name]}","mappers":[]}]}},{"meta":[],"prototype":"pattern-move","parameters":{"pattern":"curr_options.*.option_values.*","conditions":[],"replacement":"option_values.$1$2"}},{"meta":[],"prototype":"value-mapper","parameters":{"mappers":[{"prototype":"list-values","parameters":[]}],"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"option_values"}}}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"option_values"}},"conditions":[{"prototype":"not-empty","parameters":[]}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"option_values","value":"&{option_values[?label==curr_label]}","mappers":[]}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"curr_options.0.id"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"option_id","value":"&{curr_options[0].id}","mappers":[]}]}}],"elseTransformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"option_id":"&{data.id}","option_values":"&{data.option_values}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products/&{product_id}/options","method":"POST","payload":{"type":"dropdown","display_name":"&{option_display_name}","option_values":[{"label":"&{label}","sort_order":0}]},"plugins":[],"payloadType":"data","authentications":[]}}}}}]}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-exists-condition","parameters":{"path":"option_values.0.id"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"id","value":"&{option_values[0].id}","mappers":[]}]}}],"elseTransformers":[]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["curr_options","option_values"]}},"conditions":[]}}]}},{"meta":[],"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"option_values.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"key-condition","parameters":{"filter":{"prototype":"key-not-exists-condition","parameters":{"path":"id"}}}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"id":"&{data.id}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products/&{product_id}/options/&{option_id}/values","method":"POST","payload":{"label":"&{label}","sort_order":0},"plugins":[],"payloadType":"data","authentications":[]}}}}}],"elseTransformers":[]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["product_idX"]}},"conditions":[]}}]}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-update-add-new-variant-prepare-the-default-option-values","name":"BigCommerce - Send - Products - Update (Add new variant - Prepare the default option values)","object":{"meta":[],"prototype":"chain","parameters":{"transformers":[{"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"option_values"}},"conditions":[{"prototype":"empty","parameters":[]}]}}],"transformers":[{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"value-setter","parameters":{"configurations":[{"key":"option_values","value":[{"label":"default","product_id":"&{product_id}","option_display_name":"Default_Option"}],"mappers":[]}]}}]}},{"prototype":"node","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"option_values.*"}},"nodeFilters":[],"nodeTransformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"curr_options":"&{data[?display_name==`Default_Option`]}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products/&{product_id}/options","payload":{"include_fields":"id,display_name,option_values"},"plugins":[],"payloadType":"data","authentications":[]}}}}},{"meta":[],"prototype":"conditional","parameters":{"filters":[{"prototype":"value-condition-v2","parameters":{"accessor":{"prototype":"pattern","parameters":{"keys":[],"pattern":"curr_options"}},"conditions":[{"prototype":"empty","parameters":[]}]}}],"elseCases":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"id":"&{data.option_values[0].id}","option_id":"&{data.id}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products/&{product_id}/options","method":"POST","payload":{"type":"dropdown","display_name":"&{option_display_name}","option_values":[{"label":"&{label}","sort_order":0}]},"plugins":[],"payloadType":"data","authentications":[]}}}}}],"elseTransformers":[{"meta":[],"prototype":"value-setter","parameters":{"configurations":[{"key":"option_id","value":"&{curr_options[0].id}","mappers":[]},{"key":"id","value":"&{curr_options[0].option_values[0].id}","mappers":[]}]}}]}},{"meta":[],"prototype":"key-filter","parameters":{"accessor":{"prototype":"key","parameters":{"keys":["curr_options","product_id"]}},"conditions":[]}}]}}]}}]}},"description":"Prepare the default option values when the option_values is empty","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-update-add-new-variant","name":"BigCommerce - Send - Products - Update (Add new variant)","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"new_variants_result":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products/&{product_id}/variants","method":"POST","payload":"&{@}","plugins":[],"payloadType":"data","authentications":[]}}}}}]}},"description":"Transformer to update the Product variants (Add New)","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-update-update-variant","name":"BigCommerce - Send - Products - Update (Update variant)","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"update_variants_result":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products/&{product_id}/variants/&{id}","method":"PUT","payload":"&{@}","plugins":[],"payloadType":"data","authentications":[]}}}}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-update-remove-the-variants","name":"BigCommerce - Send - Products - Update (Remove the Variants)","object":{"meta":[],"prototype":"data","parameters":{"filters":[],"transformers":[{"meta":[],"prototype":"merger","parameters":{"template":{"delete_variants_result":"&{@}"},"transformer":{"meta":[],"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products/&{product_id}/variants/&{id}","method":"DELETE","payload":[],"plugins":[],"payloadType":"data","authentications":[]}}}}}]}},"description":"","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-update-build-payload","name":"BigCommerce - Send - Products - Update (Build Payload)","object":{"prototype":"chain","parameters":{"transformers":[{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"pattern-move","parameters":{"pattern":"*","conditions":[],"replacement":"payload.$1"}}]}}]}},"description":"Build the Update payload for bigcommerce product","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"list-transformer","identifier":"bigcommerce-send-products-create","name":"BigCommerce - Send - Products - Create","object":{"prototype":"chain","parameters":{"transformers":[{"prototype":"data","parameters":{"filters":[],"transformers":[{"prototype":"merger","parameters":{"template":{"upsert_response":"&{@}"},"transformer":{"prototype":"http-transformer","parameters":{"client":"bigcommerce-client","request":{"uri":"/v3/catalog/products","method":"POST","payload":"&{@}","plugins":[],"payloadType":"data","authentications":[]}}}}}]}}]}},"description":"This Transformer will create Products and Product Variants, and store important IDs for future use.","owner":null,"disabled":false}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"scheduler-entry","identifier":"alumio-to-bigcommerce-simple-products-outgoing","name":"Alumio to Bigcommerce - Simple Products (Outgoing)","object":{"parameters":{"job":[{"prototype":"run-outgoing","parameters":{"route":"synchronize-products-akeneo-to-bigcommerce-simple-products","numTasks":100}}],"handlers":[],"priority":2,"expression":"*/5 * * * *"}},"description":"Scheduler to Execute all tasks for Simple Products to Bigcommerce","owner":null,"disabled":true}
{"$schema":"https://di.schema.alumio.com/register.configuration.json","type":"route-configuration","identifier":"synchronize-products-akeneo-to-bigcommerce-simple-products","name":"Synchronize Products - Akeneo to BigCommerce (Simple Products)","object":{"parameters":{"incoming":"akeneo-fetch-simple-products-or-products-without-parent","outgoing":"bigcommerce-send-product","realtime":false,"transformers":[],"waitingStatus":false,"parallelExecution":[]}},"description":"Route for synchronize Simple Products from Akeneo and send it to BigCommerce","owner":null,"disabled":false}